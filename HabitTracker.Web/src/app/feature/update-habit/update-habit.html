@if (habit) {
<form (ngSubmit)="updateHabit()" #habitForm="ngForm" class="space-y-4 p-4">
  <div>
    <label class="block text-sm font-medium text-gray-700">Title</label>
    <input
      type="text"
      name="title"
      [(ngModel)]="habit.title"
      required
      class="form-input"
    />
  </div>
  <div>
    <label class="block text-sm font-medium text-gray-700">Description</label>
    <textarea
      name="description"
      [(ngModel)]="habit.description"
      rows="2"
      class="form-input"
    ></textarea>
  </div>
  <div>
    <label class="block text-sm font-medium text-gray-700">Start Date</label>
    <input
      type="date"
      name="startDate"
      [(ngModel)]="habit.startDate"
      required
      class="form-input"
    />
  </div>
  <div>
    <label class="block text-sm font-medium text-gray-700">Frequency</label>
    <select
      name="frequency"
      [(ngModel)]="habit.frequency"
      required
      class="form-input"
    >
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="custom">Custom</option>
    </select>
  </div>
  @if (habit.frequency === 'custom') {
  <div>
    <label class="block text-sm font-medium text-gray-700"
      >Custom Frequency (days)</label
    >
    <input
      type="number"
      name="customFrequency"
      [(ngModel)]="habit.customFrequency"
      min="1"
      class="form-input"
    />
  </div>
  }
  <div class="flex justify-end">
    <button
      type="submit"
      class="px-4 py-2 btn-primary"
      [disabled]="habitForm.invalid"
    >
      Update Habit
    </button>
  </div>
</form>
}
